import{o as e,j as t}from"./index-BwfKHYn7.js";import{b as i}from"./vendor-DnE5PtM9.js";import"./axios-VSpmzgsF.js";function n({destination:n}){const[r,s]=i.useState([]),[o,m]=i.useState(new Set);i.useEffect(()=>{l();const e=setInterval(l,5e3);return()=>clearInterval(e)},[n]);const l=async()=>{try{const t=(await e.getAll()).filter(e=>"en_attente"===e.status),i=await Promise.all(t.map(async e=>{const t=(e.items||[]).filter(e=>"BAR"===n?"boissons"===e.categoryType:"repas"===e.categoryType);return t.length>0?{id:e.id,ticketNumber:e.ticketNumber,clientName:e.clientName,items:t,createdAt:e.createdAt,serveurName:e.createdByName||"Serveur"}:null}));s(i.filter(e=>null!==e))}catch(t){console.error("Erreur chargement commandes:",t)}},c="BAR"===n?"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)":"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",d="BAR"===n?"ðŸ¹":"ðŸ³";return t.jsxDEV("div",{style:{padding:"1rem",minHeight:"100vh",background:"#f5f5f5"},children:[t.jsxDEV("div",{style:{background:c,color:"white",padding:"2rem",borderRadius:"12px",marginBottom:"2rem",textAlign:"center"},children:[t.jsxDEV("h1",{style:{margin:0,fontSize:"2.5rem"},children:[d," ",n]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:104,columnNumber:9},this),t.jsxDEV("p",{style:{margin:"0.5rem 0 0 0",opacity:.9},children:[r.length," commande",r.length>1?"s":""," en attente"]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:107,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:96,columnNumber:7},this),0===r.length?t.jsxDEV("div",{style:{background:"white",borderRadius:"12px",padding:"3rem",textAlign:"center",color:"#999"},children:[t.jsxDEV("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"âœ…"},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:121,columnNumber:11},this),t.jsxDEV("h2",{children:"Aucune commande en attente"},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:122,columnNumber:11},this),t.jsxDEV("p",{children:"Les nouvelles commandes apparaÃ®tront ici automatiquement"},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:123,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:114,columnNumber:9},this):t.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:r.map(e=>t.jsxDEV("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",boxShadow:o.has(e.id)?"0 0 20px rgba(76, 175, 80, 0.5)":"0 4px 12px rgba(0,0,0,0.1)",border:o.has(e.id)?"3px solid #4caf50":"2px solid #ddd",transition:"all 0.3s ease"},children:[t.jsxDEV("div",{style:{borderBottom:"2px solid #f0f0f0",paddingBottom:"1rem",marginBottom:"1rem"},children:[t.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[t.jsxDEV("h3",{style:{margin:0,fontSize:"1.5rem"},children:["#",e.ticketNumber]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:159,columnNumber:19},this),t.jsxDEV("span",{style:{background:"BAR"===n?"#f5576c":"#00f2fe",color:"white",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"bold"},children:new Date(e.createdAt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:162,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:153,columnNumber:17},this),t.jsxDEV("div",{style:{color:"#666",fontSize:"0.95rem"},children:[t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Client:"},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:177,columnNumber:24},this)," ",e.clientName]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:177,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Serveur:"},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:178,columnNumber:24},this)," ",e.serveurName]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:178,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:176,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:148,columnNumber:15},this),t.jsxDEV("div",{style:{marginBottom:"1.5rem"},children:e.items.map((e,i)=>t.jsxDEV("div",{style:{padding:"0.75rem",background:"#f9f9f9",borderRadius:"8px",marginBottom:"0.5rem",border:"1px solid #e0e0e0"},children:[t.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxDEV("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:[e.quantity,"x"]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:200,columnNumber:23},this),t.jsxDEV("span",{style:{flex:1,marginLeft:"1rem",fontSize:"1.1rem"},children:e.productName},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:203,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:195,columnNumber:21},this),e.notes&&t.jsxDEV("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#fff3cd",borderRadius:"4px",fontSize:"0.9rem",color:"#856404"},children:["ðŸ“ ",e.notes]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:208,columnNumber:23},this)]},i,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:185,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:183,columnNumber:15},this),t.jsxDEV("button",{onClick:()=>{return t=e.id,m(e=>new Set(e).add(t)),void setTimeout(()=>{m(e=>{const i=new Set(e);return i.delete(t),i}),l()},2e3);var t},disabled:o.has(e.id),style:{width:"100%",padding:"1rem",background:o.has(e.id)?"#4caf50":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"bold",cursor:o.has(e.id)?"default":"pointer",transition:"all 0.3s ease"},children:o.has(e.id)?"âœ… PRÃŠT":"âœ“ Marquer comme prÃªt"},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:224,columnNumber:15},this)]},e.id,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:132,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:126,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/mrtih/Desktop/YOU CAISSE PRO/frontend/src/components/KitchenDisplay.tsx",lineNumber:94,columnNumber:5},this)}export{n as default};
